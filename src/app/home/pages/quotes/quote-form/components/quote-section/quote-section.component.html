<!-- <p>quote-section works!</p> -->

<div class="quoteProducts">
  <ng-template #ProductTypeTittle>
    <div
      nz-row
      nzAlign="middle"
      [nzGutter]="[24, 24]"
      nzJustify="space-between"
    >
      <div nz-col>
        <h4 nz-typography>
          {{ productPerQuote.type }} - N° {{ productPerQuote.amount }}
        </h4>
      </div>
      <div nz-col>
        <h4 nz-typography>Producto - N° {{ productPerQuote.articuleNumer }}</h4>
      </div>
    </div>
  </ng-template>
  <nz-card [nzTitle]="ProductTypeTittle" class="contentCard">
    <!-- <h4 nz-typography>Ventana</h4> -->
    <div nz-row nzAlign="top" [nzGutter]="[12, 12]" nzJustify="space-evenly">
      <div nz-col nzSpan="24">
        <app-add-form></app-add-form>
        <!-- <nz-divider></nz-divider> -->
        <div
          nz-row
          nzAlign="top"
          [nzGutter]="[24, 24]"
          nzJustify="space-between"
        >
          <div
            nz-col
            [nzXXl]="12"
            [nzXl]="12"
            [nzLg]="24"
            [nzMd]="24"
            [nzSm]="24"
            [nzXs]="24"
            *ngIf="
              selectedAccessories.value && selectedAccessories.value.length > 0
            "
          >
            <!-- <h5 nz-typography>Accesorios seleccionados</h5> -->
            <nz-divider nzText="Accesorios seleccionados"></nz-divider>
            <form [formGroup]="quoteForm">
              <ng-container formArrayName="accessoryList">
                <div
                  *ngFor="
                    let accessory of accessoryList.controls;
                    let index = index
                  "
                >
                  <!-- {{ index }} -->
                  <div [formGroupName]="index">
                    <div
                      nz-row
                      nzAlign="middle"
                      nzJustify="center"
                      [nzGutter]="[0, 24]"
                    >
                      <div nz-col nzSpan="22">
                        <nz-card nzHoverable>
                          <h2>
                            {{ selectedAccessories.value[index].label }}
                          </h2>
                          <nz-form-item>
                            <!-- <nz-form-label nzSpan="24"
                                    >Cantidad</nz-form-label
                                  > -->
                            <div nz-row nzJustify="space-between">
                              <div
                                nz-col
                                [nzXXl]="6"
                                [nzXl]="6"
                                [nzLg]="6"
                                [nzMd]="24"
                                [nzSm]="24"
                                [nzXs]="24"
                              >
                                <nz-form-label>Cantidad</nz-form-label>
                              </div>
                              <div
                                nz-col
                                [nzXXl]="18"
                                [nzXl]="18"
                                [nzLg]="18"
                                [nzMd]="24"
                                [nzSm]="24"
                                [nzXs]="24"
                              >
                                <nz-form-control
                                  nzErrorTip="!la cantidad del accesorio es requerido¡"
                                >
                                  <input
                                    nz-input
                                    type="number"
                                    min="1"
                                    placeholder="cantidad"
                                    formControlName="amount"
                                    (ngModelChange)="log($event)"
                                  />
                                  <!-- (ngModelChange)="aomuntFunction($event)" -->
                                </nz-form-control>
                              </div>
                            </div>
                          </nz-form-item>
                          <button
                            type="button"
                            [disabled]="accessoryList.length <= 1"
                            nz-button
                            nzType="primary"
                            (click)="removeAccessory(index)"
                          >
                            Quitar
                          </button>
                        </nz-card>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </form>
          </div>
          <div
            nz-col
            nzSpan="11"
            *ngIf="selectedProfiles.value && selectedProfiles.value.length > 0"
          >
            <nz-divider nzText="Perfiles seleccionados"></nz-divider>
            <form [formGroup]="quoteForm">
              <ng-container formArrayName="profileList">
                <div
                  *ngFor="
                    let profile of profileList.controls;
                    let index = index
                  "
                >
                  <!-- {{ index }} -->
                  <div [formGroupName]="index">
                    <div
                      nz-row
                      nzAlign="middle"
                      nzJustify="center"
                      [nzGutter]="[0, 24]"
                    >
                      <div nz-col nzSpan="22">
                        <nz-card nzHoverable>
                          <h2>
                            {{ selectedProfiles.value[index].label }}
                          </h2>
                          <nz-form-item>
                            <!-- <nz-form-label nzSpan="24"
                                    >Cantidad</nz-form-label
                                  > -->
                            <div nz-row nzJustify="space-between">
                              <div nz-col nzSpan="6">
                                <nz-form-label>Cantidad</nz-form-label>
                              </div>
                              <div nz-col nzSpan="18">
                                <nz-form-control
                                  nzErrorTip="!la cantidad de metros del perfil es requerida¡"
                                >
                                  <input
                                    nz-input
                                    type="number"
                                    min="1"
                                    placeholder="cantidad"
                                    formControlName="amount"
                                    (ngModelChange)="log($event)"
                                  />
                                  <!-- (ngModelChange)="aomuntFunction($event)" -->
                                </nz-form-control>
                              </div>
                            </div>
                          </nz-form-item>
                          <button
                            type="button"
                            [disabled]="profileList.length <= 1"
                            nz-button
                            nzType="primary"
                            (click)="removeProfile(index)"
                          >
                            Quitar
                          </button>
                        </nz-card>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </form>
          </div>
          <div
            nz-col
            nzSpan="11"
            *ngIf="selectedGlasses.value && selectedGlasses.value.length > 0"
          >
            <nz-divider nzText="Vidrios seleccionados"></nz-divider>
            <form [formGroup]="quoteForm">
              <ng-container formArrayName="glassList">
                <div
                  *ngFor="let glass of glassList.controls; let index = index"
                >
                  <!-- {{ index }} -->
                  <div [formGroupName]="index">
                    <div
                      nz-row
                      nzAlign="middle"
                      nzJustify="center"
                      [nzGutter]="[0, 24]"
                    >
                      <div nz-col nzSpan="22">
                        <nz-card nzHoverable>
                          <h2>
                            {{ selectedGlasses.value[index].label }}
                          </h2>
                          <nz-form-item>
                            <!-- <nz-form-label nzSpan="24"
                                    >Cantidad</nz-form-label
                                  > -->
                            <div nz-row nzJustify="space-between">
                              <div nz-col nzSpan="6">
                                <nz-form-label>Cantidad</nz-form-label>
                              </div>
                              <div nz-col nzSpan="18">
                                <nz-form-control
                                  nzErrorTip="!la cantidad de metros cuadrados del vidrio es requerida¡"
                                >
                                  <input
                                    nz-input
                                    type="number"
                                    min="1"
                                    placeholder="cantidad"
                                    formControlName="amount"
                                    (ngModelChange)="log($event)"
                                  />
                                  <!-- (ngModelChange)="aomuntFunction($event)" -->
                                </nz-form-control>
                              </div>
                            </div>
                          </nz-form-item>
                          <button
                            type="button"
                            [disabled]="accessoryList.length <= 1"
                            nz-button
                            nzType="primary"
                            (click)="removeGlass(index)"
                          >
                            Quitar
                          </button>
                        </nz-card>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </form>
          </div>
          <div
            nz-col
            nzSpan="11"
            *ngIf="selectedAcrylics.value && selectedAcrylics.value.length > 0"
          >
            <nz-divider nzText="Acrilicos seleccionados"></nz-divider>
            <form [formGroup]="quoteForm">
              <ng-container formArrayName="acrylicList">
                <div
                  *ngFor="
                    let acrylic of acrylicList.controls;
                    let index = index
                  "
                >
                  <!-- {{ index }} -->
                  <div [formGroupName]="index">
                    <div
                      nz-row
                      nzAlign="middle"
                      nzJustify="center"
                      [nzGutter]="[0, 24]"
                    >
                      <div nz-col nzSpan="22">
                        <nz-card nzHoverable>
                          <h2>
                            {{ selectedAcrylics.value[index].label }}
                          </h2>
                          <nz-form-item>
                            <!-- <nz-form-label nzSpan="24"
                                    >Cantidad</nz-form-label
                                  > -->
                            <div nz-row nzJustify="space-between">
                              <div nz-col nzSpan="6">
                                <nz-form-label>Cantidad</nz-form-label>
                              </div>
                              <div nz-col nzSpan="18">
                                <nz-form-control
                                  nzErrorTip="!la cantidad de metros cuadrados del acrilicos es requerida¡"
                                >
                                  <input
                                    nz-input
                                    type="number"
                                    min="1"
                                    placeholder="cantidad"
                                    formControlName="amount"
                                    (ngModelChange)="log($event)"
                                  />
                                  <!-- (ngModelChange)="aomuntFunction($event)" -->
                                </nz-form-control>
                              </div>
                            </div>
                          </nz-form-item>
                          <button
                            type="button"
                            [disabled]="acrylicList.length <= 1"
                            nz-button
                            nzType="primary"
                            (click)="removeAcrylic(index)"
                          >
                            Quitar
                          </button>
                        </nz-card>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-container>
            </form>
          </div>
        </div>
      </div>
    </div>
  </nz-card>
</div>
